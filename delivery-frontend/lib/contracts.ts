import { ethers } from "ethers"

const deliveryStorageABI = [
  /* Paste the DeliveryStorage ABI here */
  {
    "_format": "hh-sol-artifact-1",
    "contractName": "DeliveryStorage",
    "sourceName": "contracts/DeliveryStorage.sol",
    "abi": [
      {
        "anonymous": false,
        "inputs": [
          {
            "indexed": true,
            "internalType": "uint256",
            "name": "trackingId",
            "type": "uint256"
          },
          {
            "indexed": false,
            "internalType": "string",
            "name": "nametag",
            "type": "string"
          },
          {
            "indexed": false,
            "internalType": "string",
            "name": "pickupStation",
            "type": "string"
          }
        ],
        "name": "DeliveryCreated",
        "type": "event"
      },
      {
        "anonymous": false,
        "inputs": [
          {
            "indexed": true,
            "internalType": "uint256",
            "name": "trackingId",
            "type": "uint256"
          }
        ],
        "name": "DeliveryVerified",
        "type": "event"
      },
      {
        "anonymous": false,
        "inputs": [
          {
            "indexed": true,
            "internalType": "uint256",
            "name": "trackingId",
            "type": "uint256"
          }
        ],
        "name": "PaymentIssued",
        "type": "event"
      },
      {
        "inputs": [
          {
            "internalType": "string",
            "name": "_nametag",
            "type": "string"
          },
          {
            "internalType": "string",
            "name": "_pickupStation",
            "type": "string"
          },
          {
            "internalType": "uint256",
            "name": "_amount",
            "type": "uint256"
          },
          {
            "internalType": "string",
            "name": "_recipientName",
            "type": "string"
          },
          {
            "internalType": "string",
            "name": "_senderName",
            "type": "string"
          },
          {
            "internalType": "string",
            "name": "_recipientPhone",
            "type": "string"
          },
          {
            "internalType": "string",
            "name": "_senderPhone",
            "type": "string"
          }
        ],
        "name": "createDelivery",
        "outputs": [],
        "stateMutability": "nonpayable",
        "type": "function"
      },
      {
        "inputs": [
          {
            "internalType": "uint256",
            "name": "",
            "type": "uint256"
          }
        ],
        "name": "deliveries",
        "outputs": [
          {
            "internalType": "string",
            "name": "nametag",
            "type": "string"
          },
          {
            "internalType": "string",
            "name": "pickupStation",
            "type": "string"
          },
          {
            "internalType": "uint256",
            "name": "amount",
            "type": "uint256"
          },
          {
            "internalType": "string",
            "name": "recipientName",
            "type": "string"
          },
          {
            "internalType": "string",
            "name": "senderName",
            "type": "string"
          },
          {
            "internalType": "string",
            "name": "recipientPhone",
            "type": "string"
          },
          {
            "internalType": "string",
            "name": "senderPhone",
            "type": "string"
          },
          {
            "internalType": "bool",
            "name": "isVerified",
            "type": "bool"
          },
          {
            "internalType": "bool",
            "name": "isPaid",
            "type": "bool"
          }
        ],
        "stateMutability": "view",
        "type": "function"
      },
      {
        "inputs": [
          {
            "internalType": "uint256",
            "name": "_trackingId",
            "type": "uint256"
          }
        ],
        "name": "getDelivery",
        "outputs": [
          {
            "components": [
              {
                "internalType": "string",
                "name": "nametag",
                "type": "string"
              },
              {
                "internalType": "string",
                "name": "pickupStation",
                "type": "string"
              },
              {
                "internalType": "uint256",
                "name": "amount",
                "type": "uint256"
              },
              {
                "internalType": "string",
                "name": "recipientName",
                "type": "string"
              },
              {
                "internalType": "string",
                "name": "senderName",
                "type": "string"
              },
              {
                "internalType": "string",
                "name": "recipientPhone",
                "type": "string"
              },
              {
                "internalType": "string",
                "name": "senderPhone",
                "type": "string"
              },
              {
                "internalType": "bool",
                "name": "isVerified",
                "type": "bool"
              },
              {
                "internalType": "bool",
                "name": "isPaid",
                "type": "bool"
              }
            ],
            "internalType": "struct DeliveryStorage.Delivery",
            "name": "",
            "type": "tuple"
          }
        ],
        "stateMutability": "view",
        "type": "function"
      },
      {
        "inputs": [
          {
            "internalType": "uint256",
            "name": "_trackingId",
            "type": "uint256"
          }
        ],
        "name": "markPaid",
        "outputs": [],
        "stateMutability": "nonpayable",
        "type": "function"
      },
      {
        "inputs": [
          {
            "internalType": "uint256",
            "name": "_trackingId",
            "type": "uint256"
          }
        ],
        "name": "markVerified",
        "outputs": [],
        "stateMutability": "nonpayable",
        "type": "function"
      },
      {
        "inputs": [],
        "name": "nextTrackingId",
        "outputs": [
          {
            "internalType": "uint256",
            "name": "",
            "type": "uint256"
          }
        ],
        "stateMutability": "view",
        "type": "function"
      }
    ],
    "bytecode": "0x60808060405234610016576110cb908161001c8239f35b600080fdfe608080604052600436101561001357600080fd5b60003560e01c9081632535ec7414610e47575080635b8929c414610d92578063a9e4a32414610c8d578063ad207e1e14610b7a578063b5d730d91461022e5763de8211a91461006157600080fd5b3461022957602080600319360112610229576040516004359161008382610e9c565b6060928383528382840152604083016000905283808401528360808401528360a08401528360c084015260e08301600090526101008093016000905260015481106100cd90611053565b60005260008152604060002090604051926100e784610e9c565b6100f083610ed9565b84526100fe60018401610ed9565b848301908152600284015460408601908152919061011e60038601610ed9565b8688019081529461013160048201610ed9565b6080880190815261014460058301610ed9565b60a089019081529061015860068401610ed9565b9260c08a01938452600701549560e08a019860ff881615158a52868b019760081c60ff16151588526040519b8c9b8a8d52518c6101209b8c9101526101408d016101a191610f7f565b9651601f198d8903810160408f0152976101ba91610f7f565b9251908c01525190858b82030160808c01526101d591610f7f565b905190848a82030160a08b01526101eb91610f7f565b905190838982030160c08a015261020191610f7f565b9051918782030160e088015261021691610f7f565b9351151590850152511515908301520390f35b600080fd5b346102295760e0366003190112610229576004356001600160401b0381116102295761025e903690600401610fbf565b906024356001600160401b0381116102295761027e903690600401610fbf565b9190926064356001600160401b038111610229576102a0903690600401610fbf565b9490936084356001600160401b038111610229576102c2903690600401610fbf565b9060a4356001600160401b038111610229576102e2903690600401610fbf565b60c4356001600160401b03811161022957610301903690600401610fbf565b9390946001549a6000198c14610b645760018c016001556040519c6103258e610e9c565b8d610331368d8f610fec565b90528d61033f368b8d610fec565b90602001528d6044359060400152369061035892610fec565b60608d0152369061036892610fec565b60808b0152369061037892610fec565b60a0890152369061038892610fec565b60c087015260e086016000905261010086016000905284600052600060205260406000209580518051906001600160401b0382116107475781906103cc8a54610e62565b601f8111610b14575b50602090601f8311600114610aa857600092610a9d575b50508160011b916000199060031b1c19161787555b60208101518051906001600160401b03821161074757819061042660018b0154610e62565b601f8111610a4a575b50602090601f83116001146109d8576000926109cd575b50508160011b916000199060031b1c19161760018801555b6040810151600288015560608101518051906001600160401b03821161074757819061048d60038b0154610e62565b601f811161097a575b50602090601f8311600114610908576000926108fd575b50508160011b916000199060031b1c19161760038801555b60808101518051906001600160401b0382116107475781906104ea60048b0154610e62565b601f81116108aa575b50602090601f83116001146108385760009261082d575b50508160011b916000199060031b1c19161760048801555b60a08101518051906001600160401b03821161074757819061054760058b0154610e62565b601f81116107da575b50602090601f83116001146107685760009261075d575b50508160011b916000199060031b1c19161760058801555b60c08101519687516001600160401b038111610747576105a26006830154610e62565b601f8111610700575b506020601f8211600114610666579181600792610656979695947fcea9ac5e0f0dc54e3b85c0978a717c9928150737d8fef119b4e080c2af121f689b9c60009261065b575b50508160011b916000199060031b1c19161760068201555b019060e081015115159060ff61ff006101008554930151151560081b1692169061ffff191617179055610648604051958695604087526040870191611032565b918483036020860152611032565b0390a2005b015190508c806105f0565b6006830160005260206000209960005b601f19841681106106e85750827fcea9ac5e0f0dc54e3b85c0978a717c9928150737d8fef119b4e080c2af121f689a9b6106569897969593600193600796601f198116106106cf575b505050811b016006820155610608565b015160001960f88460031b161c191690558c80806106bf565b828201518c556001909b019a60209283019201610676565b600683016000526020600020601f830160051c810160208410610740575b601f830160051c820181106107345750506105ab565b6000815560010161071e565b508061071e565b634e487b7160e01b600052604160045260246000fd5b015190508980610567565b925060058a016000526020600020906000935b601f19841685106107bf576001945083601f198116106107a6575b505050811b01600588015561057f565b015160001960f88460031b161c19169055898080610796565b8181015183556020948501946001909301929091019061077b565b90915060058a016000526020600020601f840160051c810160208510610826575b90849392915b601f830160051c82018110610817575050610550565b60008155859450600101610801565b50806107fb565b01519050898061050a565b925060048a016000526020600020906000935b601f198416851061088f576001945083601f19811610610876575b505050811b016004880155610522565b015160001960f88460031b161c19169055898080610866565b8181015183556020948501946001909301929091019061084b565b90915060048a016000526020600020601f840160051c8101602085106108f6575b90849392915b601f830160051c820181106108e75750506104f3565b600081558594506001016108d1565b50806108cb565b0151905089806104ad565b925060038a016000526020600020906000935b601f198416851061095f576001945083601f19811610610946575b505050811b0160038801556104c5565b015160001960f88460031b161c19169055898080610936565b8181015183556020948501946001909301929091019061091b565b90915060038a016000526020600020601f840160051c8101602085106109c6575b90849392915b601f830160051c820181106109b7575050610496565b600081558594506001016109a1565b508061099b565b015190508980610446565b925060018a016000526020600020906000935b601f1984168510610a2f576001945083601f19811610610a16575b505050811b01600188015561045e565b015160001960f88460031b161c19169055898080610a06565b818101518355602094850194600190930192909101906109eb565b90915060018a016000526020600020601f840160051c810160208510610a96575b90849392915b601f830160051c82018110610a8757505061042f565b60008155859450600101610a71565b5080610a6b565b0151905089806103ec565b9250896000526020600020906000935b601f1984168510610af9576001945083601f19811610610ae0575b505050811b018755610401565b015160001960f88460031b161c19169055898080610ad3565b81810151835560209485019460019093019290910190610ab8565b909150896000526020600020601f840160051c810160208510610b5d575b90849392915b601f830160051c82018110610b4e5750506103d5565b60008155859450600101610b38565b5080610b32565b634e487b7160e01b600052601160045260246000fd5b34610229576020806003193601126102295760043590610b9d6001548310611053565b816000526000815260ff6007604060002001541615610c5157816000526000815260ff60076040600020015460081c16610c145760009082825252600760406000200161010061ff00198254161790557fbbc7bdbbb0e5fc8247f420aea3ee1ccb3de5af816cd9a8612ea279970455f552600080a2005b6064906040519062461bcd60e51b82526004820152601660248201527514185e5b595b9d08185b1c9958591e481a5cdcdd595960521b6044820152fd5b6064906040519062461bcd60e51b82526004820152601560248201527411195b1a5d995c9e481b9bdd081d995c9a599a5959605a1b6044820152fd5b346102295760203660031901126102295760043560005260006020526040600020610d2c610cba82610ed9565b60ff610d77610ccb60018601610ed9565b94610d696002820154610d5b610ce360038501610ed9565b91610d4d610cf360048701610ed9565b91610d0060058801610ed9565b94610d3a6007610d1260068b01610ed9565b9901549b6040519e8f9e8f92610120808552840190610f7f565b916020818403910152610f7f565b9160408d01528b820360608d0152610f7f565b9089820360808b0152610f7f565b9087820360a0890152610f7f565b9085820360c0870152610f7f565b91818116151560e085015260081c1615156101008301520390f35b3461022957602036600319011261022957600435610db36001548210611053565b80600052600060205260ff60076040600020015416610e0f578060005260006020526007604060002001600160ff198254161790557f71aa2db59ded58f085b69c1fda199f5e07af21b2f224ec68efb290c0e668bb2a600080a2005b60405162461bcd60e51b815260206004820152601060248201526f105b1c9958591e481d995c9a599a595960821b6044820152606490fd5b34610229576000366003190112610229576020906001548152f35b90600182811c92168015610e92575b6020831014610e7c57565b634e487b7160e01b600052602260045260246000fd5b91607f1691610e71565b61012081019081106001600160401b0382111761074757604052565b90601f801991011681019081106001600160401b0382111761074757604052565b9060405191826000825492610eed84610e62565b908184526001948581169081600014610f5c5750600114610f19575b5050610f1792500383610eb8565b565b9093915060005260209081600020936000915b818310610f44575050610f1793508201013880610f09565b85548884018501529485019487945091830191610f2c565b915050610f1794506020925060ff191682840152151560051b8201013880610f09565b919082519283825260005b848110610fab575050826000602080949584010152601f8019910116010190565b602081830181015184830182015201610f8a565b9181601f84011215610229578235916001600160401b038311610229576020838186019501011161022957565b9291926001600160401b0382116107475760405191611015601f8201601f191660200184610eb8565b829481845281830111610229578281602093846000960137010152565b908060209392818452848401376000828201840152601f01601f1916010190565b1561105a57565b60405162461bcd60e51b8152602060048201526013602482015272125b9d985b1a59081d1c9858dada5b99c81251606a1b6044820152606490fdfea26469706673582212201a1cdc0373484452d74fc507987d95749ec396a953a19c4f0489c3e1d627b83764736f6c63430008140033",
    "deployedBytecode": "0x608080604052600436101561001357600080fd5b60003560e01c9081632535ec7414610e47575080635b8929c414610d92578063a9e4a32414610c8d578063ad207e1e14610b7a578063b5d730d91461022e5763de8211a91461006157600080fd5b3461022957602080600319360112610229576040516004359161008382610e9c565b6060928383528382840152604083016000905283808401528360808401528360a08401528360c084015260e08301600090526101008093016000905260015481106100cd90611053565b60005260008152604060002090604051926100e784610e9c565b6100f083610ed9565b84526100fe60018401610ed9565b848301908152600284015460408601908152919061011e60038601610ed9565b8688019081529461013160048201610ed9565b6080880190815261014460058301610ed9565b60a089019081529061015860068401610ed9565b9260c08a01938452600701549560e08a019860ff881615158a52868b019760081c60ff16151588526040519b8c9b8a8d52518c6101209b8c9101526101408d016101a191610f7f565b9651601f198d8903810160408f0152976101ba91610f7f565b9251908c01525190858b82030160808c01526101d591610f7f565b905190848a82030160a08b01526101eb91610f7f565b905190838982030160c08a015261020191610f7f565b9051918782030160e088015261021691610f7f565b9351151590850152511515908301520390f35b600080fd5b346102295760e0366003190112610229576004356001600160401b0381116102295761025e903690600401610fbf565b906024356001600160401b0381116102295761027e903690600401610fbf565b9190926064356001600160401b038111610229576102a0903690600401610fbf565b9490936084356001600160401b038111610229576102c2903690600401610fbf565b9060a4356001600160401b038111610229576102e2903690600401610fbf565b60c4356001600160401b03811161022957610301903690600401610fbf565b9390946001549a6000198c14610b645760018c016001556040519c6103258e610e9c565b8d610331368d8f610fec565b90528d61033f368b8d610fec565b90602001528d6044359060400152369061035892610fec565b60608d0152369061036892610fec565b60808b0152369061037892610fec565b60a0890152369061038892610fec565b60c087015260e086016000905261010086016000905284600052600060205260406000209580518051906001600160401b0382116107475781906103cc8a54610e62565b601f8111610b14575b50602090601f8311600114610aa857600092610a9d575b50508160011b916000199060031b1c19161787555b60208101518051906001600160401b03821161074757819061042660018b0154610e62565b601f8111610a4a575b50602090601f83116001146109d8576000926109cd575b50508160011b916000199060031b1c19161760018801555b6040810151600288015560608101518051906001600160401b03821161074757819061048d60038b0154610e62565b601f811161097a575b50602090601f8311600114610908576000926108fd575b50508160011b916000199060031b1c19161760038801555b60808101518051906001600160401b0382116107475781906104ea60048b0154610e62565b601f81116108aa575b50602090601f83116001146108385760009261082d575b50508160011b916000199060031b1c19161760048801555b60a08101518051906001600160401b03821161074757819061054760058b0154610e62565b601f81116107da575b50602090601f83116001146107685760009261075d575b50508160011b916000199060031b1c19161760058801555b60c08101519687516001600160401b038111610747576105a26006830154610e62565b601f8111610700575b506020601f8211600114610666579181600792610656979695947fcea9ac5e0f0dc54e3b85c0978a717c9928150737d8fef119b4e080c2af121f689b9c60009261065b575b50508160011b916000199060031b1c19161760068201555b019060e081015115159060ff61ff006101008554930151151560081b1692169061ffff191617179055610648604051958695604087526040870191611032565b918483036020860152611032565b0390a2005b015190508c806105f0565b6006830160005260206000209960005b601f19841681106106e85750827fcea9ac5e0f0dc54e3b85c0978a717c9928150737d8fef119b4e080c2af121f689a9b6106569897969593600193600796601f198116106106cf575b505050811b016006820155610608565b015160001960f88460031b161c191690558c80806106bf565b828201518c556001909b019a60209283019201610676565b600683016000526020600020601f830160051c810160208410610740575b601f830160051c820181106107345750506105ab565b6000815560010161071e565b508061071e565b634e487b7160e01b600052604160045260246000fd5b015190508980610567565b925060058a016000526020600020906000935b601f19841685106107bf576001945083601f198116106107a6575b505050811b01600588015561057f565b015160001960f88460031b161c19169055898080610796565b8181015183556020948501946001909301929091019061077b565b90915060058a016000526020600020601f840160051c810160208510610826575b90849392915b601f830160051c82018110610817575050610550565b60008155859450600101610801565b50806107fb565b01519050898061050a565b925060048a016000526020600020906000935b601f198416851061088f576001945083601f19811610610876575b505050811b016004880155610522565b015160001960f88460031b161c19169055898080610866565b8181015183556020948501946001909301929091019061084b565b90915060048a016000526020600020601f840160051c8101602085106108f6575b90849392915b601f830160051c820181106108e75750506104f3565b600081558594506001016108d1565b50806108cb565b0151905089806104ad565b925060038a016000526020600020906000935b601f198416851061095f576001945083601f19811610610946575b505050811b0160038801556104c5565b015160001960f88460031b161c19169055898080610936565b8181015183556020948501946001909301929091019061091b565b90915060038a016000526020600020601f840160051c8101602085106109c6575b90849392915b601f830160051c820181106109b7575050610496565b600081558594506001016109a1565b508061099b565b015190508980610446565b925060018a016000526020600020906000935b601f1984168510610a2f576001945083601f19811610610a16575b505050811b01600188015561045e565b015160001960f88460031b161c19169055898080610a06565b818101518355602094850194600190930192909101906109eb565b90915060018a016000526020600020601f840160051c810160208510610a96575b90849392915b601f830160051c82018110610a8757505061042f565b60008155859450600101610a71565b5080610a6b565b0151905089806103ec565b9250896000526020600020906000935b601f1984168510610af9576001945083601f19811610610ae0575b505050811b018755610401565b015160001960f88460031b161c19169055898080610ad3565b81810151835560209485019460019093019290910190610ab8565b909150896000526020600020601f840160051c810160208510610b5d575b90849392915b601f830160051c82018110610b4e5750506103d5565b60008155859450600101610b38565b5080610b32565b634e487b7160e01b600052601160045260246000fd5b34610229576020806003193601126102295760043590610b9d6001548310611053565b816000526000815260ff6007604060002001541615610c5157816000526000815260ff60076040600020015460081c16610c145760009082825252600760406000200161010061ff00198254161790557fbbc7bdbbb0e5fc8247f420aea3ee1ccb3de5af816cd9a8612ea279970455f552600080a2005b6064906040519062461bcd60e51b82526004820152601660248201527514185e5b595b9d08185b1c9958591e481a5cdcdd595960521b6044820152fd5b6064906040519062461bcd60e51b82526004820152601560248201527411195b1a5d995c9e481b9bdd081d995c9a599a5959605a1b6044820152fd5b346102295760203660031901126102295760043560005260006020526040600020610d2c610cba82610ed9565b60ff610d77610ccb60018601610ed9565b94610d696002820154610d5b610ce360038501610ed9565b91610d4d610cf360048701610ed9565b91610d0060058801610ed9565b94610d3a6007610d1260068b01610ed9565b9901549b6040519e8f9e8f92610120808552840190610f7f565b916020818403910152610f7f565b9160408d01528b820360608d0152610f7f565b9089820360808b0152610f7f565b9087820360a0890152610f7f565b9085820360c0870152610f7f565b91818116151560e085015260081c1615156101008301520390f35b3461022957602036600319011261022957600435610db36001548210611053565b80600052600060205260ff60076040600020015416610e0f578060005260006020526007604060002001600160ff198254161790557f71aa2db59ded58f085b69c1fda199f5e07af21b2f224ec68efb290c0e668bb2a600080a2005b60405162461bcd60e51b815260206004820152601060248201526f105b1c9958591e481d995c9a599a595960821b6044820152606490fd5b34610229576000366003190112610229576020906001548152f35b90600182811c92168015610e92575b6020831014610e7c57565b634e487b7160e01b600052602260045260246000fd5b91607f1691610e71565b61012081019081106001600160401b0382111761074757604052565b90601f801991011681019081106001600160401b0382111761074757604052565b9060405191826000825492610eed84610e62565b908184526001948581169081600014610f5c5750600114610f19575b5050610f1792500383610eb8565b565b9093915060005260209081600020936000915b818310610f44575050610f1793508201013880610f09565b85548884018501529485019487945091830191610f2c565b915050610f1794506020925060ff191682840152151560051b8201013880610f09565b919082519283825260005b848110610fab575050826000602080949584010152601f8019910116010190565b602081830181015184830182015201610f8a565b9181601f84011215610229578235916001600160401b038311610229576020838186019501011161022957565b9291926001600160401b0382116107475760405191611015601f8201601f191660200184610eb8565b829481845281830111610229578281602093846000960137010152565b908060209392818452848401376000828201840152601f01601f1916010190565b1561105a57565b60405162461bcd60e51b8152602060048201526013602482015272125b9d985b1a59081d1c9858dada5b99c81251606a1b6044820152606490fdfea26469706673582212201a1cdc0373484452d74fc507987d95749ec396a953a19c4f0489c3e1d627b83764736f6c63430008140033",
    "linkReferences": {},
    "deployedLinkReferences": {}
  }
  
]
const deliveryTrackerABI = [
  /* Paste the DeliveryTracker ABI here */
  {
    "_format": "hh-sol-artifact-1",
    "contractName": "DeliveryTracker",
    "sourceName": "contracts/DeliveryTracker.sol",
    "abi": [
      {
        "inputs": [
          {
            "internalType": "address",
            "name": "_deliveryStorageAddress",
            "type": "address"
          }
        ],
        "stateMutability": "nonpayable",
        "type": "constructor"
      },
      {
        "inputs": [],
        "name": "deliveryStorage",
        "outputs": [
          {
            "internalType": "contract DeliveryStorage",
            "name": "",
            "type": "address"
          }
        ],
        "stateMutability": "view",
        "type": "function"
      },
      {
        "inputs": [
          {
            "internalType": "uint256",
            "name": "_trackingId",
            "type": "uint256"
          }
        ],
        "name": "trackDelivery",
        "outputs": [
          {
            "internalType": "string",
            "name": "nametag",
            "type": "string"
          },
          {
            "internalType": "string",
            "name": "pickupStation",
            "type": "string"
          },
          {
            "internalType": "uint256",
            "name": "amount",
            "type": "uint256"
          },
          {
            "internalType": "string",
            "name": "recipientName",
            "type": "string"
          },
          {
            "internalType": "string",
            "name": "senderName",
            "type": "string"
          },
          {
            "internalType": "string",
            "name": "recipientPhone",
            "type": "string"
          },
          {
            "internalType": "string",
            "name": "senderPhone",
            "type": "string"
          },
          {
            "internalType": "bool",
            "name": "isVerified",
            "type": "bool"
          },
          {
            "internalType": "bool",
            "name": "isPaid",
            "type": "bool"
          }
        ],
        "stateMutability": "view",
        "type": "function"
      }
    ],
    "bytecode": "0x60803461007457601f61046638819003918201601f19168301916001600160401b038311848410176100795780849260209460405283398101031261007457516001600160a01b0381169081900361007457600080546001600160a01b0319169190911790556040516103d690816100908239f35b600080fd5b634e487b7160e01b600052604160045260246000fdfe60806040818152600436101561001457600080fd5b600091823560e01c9081633b70ab2c14610295575063d735fe6a1461003857600080fd5b346102695760209081600319360112610285578254815163de8211a960e01b815260048035908201529293908190849060249082906001600160a01b03165afa92831561028957819361013a575b5050815191838101519082810151926060820151608083015160a08401519160c08501519360e08601511515976101008097015115159782519b8c9b8c6101208091528d016100d4916102dc565b908c8203908d01526100e5916102dc565b918a015288810360608a01526100fa916102dc565b878103608089015261010b916102dc565b86810360a088015261011c916102dc565b85810360c087015261012d916102dc565b9260e08501528301520390f35b909192503d8083833e61014d8183610301565b8101848282031261028557815167ffffffffffffffff928382116102815701916101209384848403126102665785519485018581108382111761026d578652835182811161026957836101a1918601610339565b85528684015182811161026957836101ba918601610339565b878601528584015186860152606084015182811161026957836101de918601610339565b6060860152608084015182811161026957836101fb918601610339565b608086015260a08401518281116102695783610218918601610339565b60a086015260c0840151918211610266575090610236918301610339565b60c083015261024760e08201610393565b60e083015261025a610100809201610393565b90820152903880610086565b80fd5b5080fd5b634e487b7160e01b82526041600452602482fd5b8480fd5b8280fd5b509051903d90823e3d90fd5b83903461026957816003193601126102695790546001600160a01b03168152602090f35b60005b8381106102cc5750506000910152565b81810151838201526020016102bc565b906020916102f5815180928185528580860191016102b9565b601f01601f1916010190565b90601f8019910116810190811067ffffffffffffffff82111761032357604052565b634e487b7160e01b600052604160045260246000fd5b81601f8201121561038e57805167ffffffffffffffff8111610323576040519261036d601f8301601f191660200185610301565b8184526020828401011161038e5761038b91602080850191016102b9565b90565b600080fd5b5190811515820361038e5756fea2646970667358221220c30754bdd6e5a290fea8294d6096b61e980befdb31aec259dcae4122fe7b8d7564736f6c63430008140033",
    "deployedBytecode": "0x60806040818152600436101561001457600080fd5b600091823560e01c9081633b70ab2c14610295575063d735fe6a1461003857600080fd5b346102695760209081600319360112610285578254815163de8211a960e01b815260048035908201529293908190849060249082906001600160a01b03165afa92831561028957819361013a575b5050815191838101519082810151926060820151608083015160a08401519160c08501519360e08601511515976101008097015115159782519b8c9b8c6101208091528d016100d4916102dc565b908c8203908d01526100e5916102dc565b918a015288810360608a01526100fa916102dc565b878103608089015261010b916102dc565b86810360a088015261011c916102dc565b85810360c087015261012d916102dc565b9260e08501528301520390f35b909192503d8083833e61014d8183610301565b8101848282031261028557815167ffffffffffffffff928382116102815701916101209384848403126102665785519485018581108382111761026d578652835182811161026957836101a1918601610339565b85528684015182811161026957836101ba918601610339565b878601528584015186860152606084015182811161026957836101de918601610339565b6060860152608084015182811161026957836101fb918601610339565b608086015260a08401518281116102695783610218918601610339565b60a086015260c0840151918211610266575090610236918301610339565b60c083015261024760e08201610393565b60e083015261025a610100809201610393565b90820152903880610086565b80fd5b5080fd5b634e487b7160e01b82526041600452602482fd5b8480fd5b8280fd5b509051903d90823e3d90fd5b83903461026957816003193601126102695790546001600160a01b03168152602090f35b60005b8381106102cc5750506000910152565b81810151838201526020016102bc565b906020916102f5815180928185528580860191016102b9565b601f01601f1916010190565b90601f8019910116810190811067ffffffffffffffff82111761032357604052565b634e487b7160e01b600052604160045260246000fd5b81601f8201121561038e57805167ffffffffffffffff8111610323576040519261036d601f8301601f191660200185610301565b8184526020828401011161038e5761038b91602080850191016102b9565b90565b600080fd5b5190811515820361038e5756fea2646970667358221220c30754bdd6e5a290fea8294d6096b61e980befdb31aec259dcae4122fe7b8d7564736f6c63430008140033",
    "linkReferences": {},
    "deployedLinkReferences": {}
  }
  
]
const deliveryVerifierABI = [
  /* Paste the DeliveryVerifier ABI here */
  {
    "_format": "hh-sol-artifact-1",
    "contractName": "DeliveryVerifier",
    "sourceName": "contracts/DeliveryVerifier.sol",
    "abi": [
      {
        "inputs": [
          {
            "internalType": "address",
            "name": "_deliveryStorageAddress",
            "type": "address"
          }
        ],
        "stateMutability": "nonpayable",
        "type": "constructor"
      },
      {
        "inputs": [],
        "name": "deliveryStorage",
        "outputs": [
          {
            "internalType": "contract DeliveryStorage",
            "name": "",
            "type": "address"
          }
        ],
        "stateMutability": "view",
        "type": "function"
      },
      {
        "inputs": [
          {
            "internalType": "uint256",
            "name": "_trackingId",
            "type": "uint256"
          }
        ],
        "name": "verifyDelivery",
        "outputs": [],
        "stateMutability": "nonpayable",
        "type": "function"
      }
    ],
    "bytecode": "0x60803461007457601f61043d38819003918201601f19168301916001600160401b038311848410176100795780849260209460405283398101031261007457516001600160a01b0381169081900361007457600080546001600160a01b0319169190911790556040516103ad90816100908239f35b600080fd5b634e487b7160e01b600052604160045260246000fdfe6080604081815260048036101561001557600080fd5b600092833560e01c91826323675c4714610064575050633b70ab2c1461003a57600080fd5b34610060578160031936011261006057905490516001600160a01b039091168152602090f35b5080fd5b838591346102b85760203660031901126102b857825463de8211a960e01b855281358286018190526001600160a01b03909116948481602481895afa80156102ae578590610165575b60e091500151610122578484953b1561011e5760248592855196879384926316e24a7160e21b8452878401525af18015610114576100e9578380f35b67ffffffffffffffff83116101015750528180808380f35b634e487b7160e01b845260419052602483fd5b82513d86823e3d90fd5b8480fd5b506020606492519162461bcd60e51b8352820152601960248201527f44656c697665727920616c7265616479207665726966696564000000000000006044820152fd5b503d8086833e61017581836102bc565b81016020828203126102aa57815167ffffffffffffffff9283821161028f57019061012092838383031261028f57865193840184811082821117610297578752825181811161029357826101ca9185016102f4565b8452602083015181811161029357826101e49185016102f4565b60208501528683015187850152606083015181811161029357826102099185016102f4565b6060850152608083015181811161029357826102269185016102f4565b608085015260a083015181811161029357826102439185016102f4565b60a085015260c083015190811161028f5782916102649160e09594016102f4565b60c083015261027483820161036a565b8383015261028661010080920161036a565b908201526100ad565b8780fd5b8880fd5b634e487b7160e01b895260418752602489fd5b8580fd5b84513d87823e3d90fd5b8280fd5b90601f8019910116810190811067ffffffffffffffff8211176102de57604052565b634e487b7160e01b600052604160045260246000fd5b919080601f840112156103655782519067ffffffffffffffff82116102de576040519160209161032d601f8301601f19168401856102bc565b8184528282870101116103655760005b81811061035257508260009394955001015290565b858101830151848201840152820161033d565b600080fd5b519081151582036103655756fea264697066735822122038f8f3df150a5a99be32d56b960fe6584d63a6078671d31f83e4df233298266664736f6c63430008140033",
    "deployedBytecode": "0x6080604081815260048036101561001557600080fd5b600092833560e01c91826323675c4714610064575050633b70ab2c1461003a57600080fd5b34610060578160031936011261006057905490516001600160a01b039091168152602090f35b5080fd5b838591346102b85760203660031901126102b857825463de8211a960e01b855281358286018190526001600160a01b03909116948481602481895afa80156102ae578590610165575b60e091500151610122578484953b1561011e5760248592855196879384926316e24a7160e21b8452878401525af18015610114576100e9578380f35b67ffffffffffffffff83116101015750528180808380f35b634e487b7160e01b845260419052602483fd5b82513d86823e3d90fd5b8480fd5b506020606492519162461bcd60e51b8352820152601960248201527f44656c697665727920616c7265616479207665726966696564000000000000006044820152fd5b503d8086833e61017581836102bc565b81016020828203126102aa57815167ffffffffffffffff9283821161028f57019061012092838383031261028f57865193840184811082821117610297578752825181811161029357826101ca9185016102f4565b8452602083015181811161029357826101e49185016102f4565b60208501528683015187850152606083015181811161029357826102099185016102f4565b6060850152608083015181811161029357826102269185016102f4565b608085015260a083015181811161029357826102439185016102f4565b60a085015260c083015190811161028f5782916102649160e09594016102f4565b60c083015261027483820161036a565b8383015261028661010080920161036a565b908201526100ad565b8780fd5b8880fd5b634e487b7160e01b895260418752602489fd5b8580fd5b84513d87823e3d90fd5b8280fd5b90601f8019910116810190811067ffffffffffffffff8211176102de57604052565b634e487b7160e01b600052604160045260246000fd5b919080601f840112156103655782519067ffffffffffffffff82116102de576040519160209161032d601f8301601f19168401856102bc565b8184528282870101116103655760005b81811061035257508260009394955001015290565b858101830151848201840152820161033d565b600080fd5b519081151582036103655756fea264697066735822122038f8f3df150a5a99be32d56b960fe6584d63a6078671d31f83e4df233298266664736f6c63430008140033",
    "linkReferences": {},
    "deployedLinkReferences": {}
  }
  
]
const paymentIssuerABI = [
  /* Paste the PaymentIssuer ABI here */
  {
    "_format": "hh-sol-artifact-1",
    "contractName": "PaymentIssuer",
    "sourceName": "contracts/PaymentIssuer.sol",
    "abi": [
      {
        "inputs": [
          {
            "internalType": "address",
            "name": "_deliveryStorageAddress",
            "type": "address"
          }
        ],
        "stateMutability": "nonpayable",
        "type": "constructor"
      },
      {
        "inputs": [],
        "name": "deliveryStorage",
        "outputs": [
          {
            "internalType": "contract DeliveryStorage",
            "name": "",
            "type": "address"
          }
        ],
        "stateMutability": "view",
        "type": "function"
      },
      {
        "inputs": [
          {
            "internalType": "uint256",
            "name": "_trackingId",
            "type": "uint256"
          }
        ],
        "name": "issuePayment",
        "outputs": [],
        "stateMutability": "nonpayable",
        "type": "function"
      }
    ],
    "bytecode": "0x60803461007457601f61047b38819003918201601f19168301916001600160401b038311848410176100795780849260209460405283398101031261007457516001600160a01b0381169081900361007457600080546001600160a01b0319169190911790556040516103eb90816100908239f35b600080fd5b634e487b7160e01b600052604160045260246000fdfe60806040908082526004918236101561001757600080fd5b600091823560e01c9081633b70ab2c146102d6575063cc5f9f991461003b57600080fd5b346102d257602092836003193601126102ce578254825163de8211a960e01b815282358382018190526024939290916001600160a01b039091169086818681855afa9081156102c457879161017f575b5060e08101511561014557610100015161010a57859650803b1561010657838692865197889384926356903f0f60e11b8452878401525af180156100fc576100d1578480f35b67ffffffffffffffff84116100eb57505052388080808480f35b634e487b7160e01b85526041905283fd5b83513d87823e3d90fd5b8580fd5b845162461bcd60e51b81528084018890526016818601527514185e5b595b9d08185b1c9958591e481a5cdcdd595960521b6044820152606490fd5b855162461bcd60e51b81528085018990526015818701527411195b1a5d995c9e481b9bdd081d995c9a599a5959605a1b6044820152606490fd5b90503d8088833e61019081836102fa565b810188828203126102c057815167ffffffffffffffff928382116102a65701906101209283838303126102a6578851938401848110828211176102ae57895282518181116102aa57826101e4918501610332565b84528a8301518181116102aa57826101fd918501610332565b8b850152888301518985015260608301518181116102aa5782610221918501610332565b606085015260808301518181116102aa578261023e918501610332565b608085015260a08301518181116102aa578261025b918501610332565b60a085015260c08301519081116102a65790610278918301610332565b60c083015261028960e082016103a8565b60e083015261029c6101008092016103a8565b908201523861008b565b8980fd5b8a80fd5b634e487b7160e01b8b5260418852888bfd5b8780fd5b86513d89823e3d90fd5b8280fd5b5080fd5b8390346102d257816003193601126102d25790546001600160a01b03168152602090f35b90601f8019910116810190811067ffffffffffffffff82111761031c57604052565b634e487b7160e01b600052604160045260246000fd5b919080601f840112156103a35782519067ffffffffffffffff821161031c576040519160209161036b601f8301601f19168401856102fa565b8184528282870101116103a35760005b81811061039057508260009394955001015290565b858101830151848201840152820161037b565b600080fd5b519081151582036103a35756fea26469706673582212205b55f03be0d27c300275aecde12c000cae3d70ab20f89d2de6bc8ce9cba2917264736f6c63430008140033",
    "deployedBytecode": "0x60806040908082526004918236101561001757600080fd5b600091823560e01c9081633b70ab2c146102d6575063cc5f9f991461003b57600080fd5b346102d257602092836003193601126102ce578254825163de8211a960e01b815282358382018190526024939290916001600160a01b039091169086818681855afa9081156102c457879161017f575b5060e08101511561014557610100015161010a57859650803b1561010657838692865197889384926356903f0f60e11b8452878401525af180156100fc576100d1578480f35b67ffffffffffffffff84116100eb57505052388080808480f35b634e487b7160e01b85526041905283fd5b83513d87823e3d90fd5b8580fd5b845162461bcd60e51b81528084018890526016818601527514185e5b595b9d08185b1c9958591e481a5cdcdd595960521b6044820152606490fd5b855162461bcd60e51b81528085018990526015818701527411195b1a5d995c9e481b9bdd081d995c9a599a5959605a1b6044820152606490fd5b90503d8088833e61019081836102fa565b810188828203126102c057815167ffffffffffffffff928382116102a65701906101209283838303126102a6578851938401848110828211176102ae57895282518181116102aa57826101e4918501610332565b84528a8301518181116102aa57826101fd918501610332565b8b850152888301518985015260608301518181116102aa5782610221918501610332565b606085015260808301518181116102aa578261023e918501610332565b608085015260a08301518181116102aa578261025b918501610332565b60a085015260c08301519081116102a65790610278918301610332565b60c083015261028960e082016103a8565b60e083015261029c6101008092016103a8565b908201523861008b565b8980fd5b8a80fd5b634e487b7160e01b8b5260418852888bfd5b8780fd5b86513d89823e3d90fd5b8280fd5b5080fd5b8390346102d257816003193601126102d25790546001600160a01b03168152602090f35b90601f8019910116810190811067ffffffffffffffff82111761031c57604052565b634e487b7160e01b600052604160045260246000fd5b919080601f840112156103a35782519067ffffffffffffffff821161031c576040519160209161036b601f8301601f19168401856102fa565b8184528282870101116103a35760005b81811061039057508260009394955001015290565b858101830151848201840152820161037b565b600080fd5b519081151582036103a35756fea26469706673582212205b55f03be0d27c300275aecde12c000cae3d70ab20f89d2de6bc8ce9cba2917264736f6c63430008140033",
    "linkReferences": {},
    "deployedLinkReferences": {}
  }
  
]

const deliveryStorageAddress = "0x6565a7F6B9D2bB1850148d5E1d94C90CCFE9754a"
const deliveryTrackerAddress = "0x0f96E79f1084a1B75cF37807cceEb14564cBEc2E"
const deliveryVerifierAddress = "0x449A39750d0Ed8309b172a483951E52CDB29694D"
const paymentIssuerAddress = "0x523C863F9557989DE2414722B75C4C4D722EDC68"

export async function getContracts() {
  if (typeof window === "undefined" || !window.ethereum) {
    throw new Error("Ethereum provider not found")
  }

  await window.ethereum.request({ method: "eth_requestAccounts" })
  const provider = new ethers.providers.Web3Provider(window.ethereum)
  const signer = provider.getSigner()

  const deliveryStorage = new ethers.Contract(deliveryStorageAddress, deliveryStorageABI, signer)
  const deliveryTracker = new ethers.Contract(deliveryTrackerAddress, deliveryTrackerABI, signer)
  const deliveryVerifier = new ethers.Contract(deliveryVerifierAddress, deliveryVerifierABI, signer)
  const paymentIssuer = new ethers.Contract(paymentIssuerAddress, paymentIssuerABI, signer)

  return { deliveryStorage, deliveryTracker, deliveryVerifier, paymentIssuer }
}

